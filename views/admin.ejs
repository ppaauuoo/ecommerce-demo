<%-include("partials/header.ejs")-%>

<h3 style="color: black; margin-left: 75px">วันที่</h3>
<div class="panel panel-default daybox">
  <div class="panel-body"><%=day%></div>
</div>

<div class="alert alert-warning">This page is unfinish!</div>

<div class="panel panel-default">
  <span id="message"></span>
  <div class="card">
    <div class="card-header">
      <div class="panel-heading">Users Data</div>
    </div>
    <div class="card-body">
      <div class="table-responsive">
        <input type="text" class="form-control" id="searchbar" />
        <!-- Table -->
        <table class="table table-striped table-bordered" id="Table">
          <tr>
            <th>Username</th>
            <th>ชื่อ-นามสกุล</th>
            <th>ที่อยู่</th>
            <th>ธนาคาร</th>
            <th>เงิน</th>
            <th>พ้อย</th>
            <th>การแก้ไข</th>
          </tr>
          <tbody id="dataTable">
            <%userData.forEach((element)=>{%>
            <tr>
              <td>
                <%=element.username%>
              </td>
              <td><%=element.fullName%></td>
              <td>
                <%=element.address%> / <%=element.subdistrict%>
                / <%=element.district%> / <%=element.city%> /
                <%=element.postCode%>
              </td>
              <td>
                <%=element.bank%> / <%=element.bookBank%> /
                <%=element.bookBankNumber%> /
                <%=element.bookBankBranch%>
              </td>
              <td><%=element.money%></td>
              <td><%=element.point%></td>
              <td>
                <button
                  type="button"
                  class="btn btn-warning btn-sm edit"
                  data-id="<%=element.username%>"
                >
                  Edit
                </button>
              </td>
            </tr>
            <%})%>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<div class="modal" tabindex="-1" id="action_modal">
  <div class="modal-dialog">
    <div class="modal-content">
      <form method="post" id="form">
        <div class="modal-header" id="dynamic_modal_title">
          <h5 class="modal-title">Edit Data</h5>
        </div>
        <div class="modal-body">
          <%-include("partials/register_form.ejs")-%>
        </div>
        <div class="modal-footer">
          <input type="hidden" name="username" id="username" />
          <input type="hidden" name="action" id="action" value="Edit" />
          <button type="submit" class="btn btn-primary" id="action_button">
            แก้ไข
          </button>
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            ยกเลิก
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="//netdna.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<script src="/js/admin_script.js"></script>

<%-include("partials/footer.ejs")-%>
